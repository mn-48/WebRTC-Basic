<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebRTC</title>
</head>
<body>
    Hello world!

    <select id="availableCameras">
        <!-- Options will be dynamically added using JavaScript -->
        <!-- For initial options, you can include them here if needed -->
        <!-- <option value="camera1">Camera 1</option> -->
        <!-- <option value="camera2">Camera 2</option> -->
    </select>

    <script>

        // media devices ----------------------------------------
        const constraints = {
            'video': true,
            'audio': true
        }
        navigator.mediaDevices.getUserMedia(constraints)
            .then(stream => {
                console.log('Got MediaStream:', stream);
            })
            .catch(error => {
                console.error('Error accessing media devices.', error);
            });

        // Querying media devices ----------------------------------------
            function getConnectedDevices(type, callback) {
                navigator.mediaDevices.enumerateDevices()
                    .then(devices => {
                        const filtered = devices.filter(device => device.kind === type);
                        callback(filtered);
                    });
            }
            
            getConnectedDevices('videoinput', cameras => console.log('Cameras found', cameras));

        

    </script>
    
</body>
</html>
